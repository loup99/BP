namespace = BP_roman_government_events

#0001-0999: Western Senate Stuff
##0001-0010: Disestablishment/Reestablishment of the Senate Effects
##0011-0050: Senate deliberates on recognizing a new ruler
##0051-0060: Becoming a Senator (various letter events)

#1000-1999: Eastern Senate Stuff
##1001-1010: Disestablishment of the Senate Effects
##1011-1050: Senate deliberates on recognizing a new ruler
##1051-1060: You become a Senator (various letter events)

#2001+: General Senate Stuff
## 2001-2010: Loss of Senatorial Support

scripted_trigger always_dismiss_senate_trigger = {
	OR = {
		culture = culture:langobard
	}
}

#0001-0999: Western Senate Stuff

##0001-0010: Disestablishment/Reestablishment of the Senate Effects

BP_roman_government_events.0001 = { #Informational Event on Disestablishing the Senate
	type = character_event
	theme = realm
	
	immediate = {
		every_living_character = {
			limit = { has_character_modifier = roman_consul_west }
			save_scope_as = the_consul
		}
	}
	
	left_portrait = { character = ROOT }
	right_portrait = { character = scope:the_consul }
	
	title = BP_roman_government_events.0001.t
	desc = BP_roman_government_events.0001.desc
	
	option = {
		name = BP_roman_government_events.0001.do_it
		disestablished_senate_effect = {
			REGION = west
			MAIN_EMPIRE = e_wre
			OPPOSITE_EMPIRE = e_byzantium
		}
		root = { save_scope_as = the_destroyer }
		every_player = { trigger_event = { id = BP_roman_government_events.0002 } }
	}
	option = { name = BP_roman_government_events.0001.dont_do_it }
}

BP_roman_government_events.0002 = {
	type = character_event
	theme = realm
	
	immediate = {}
	
	right_portrait = { character = scope:the_destroyer }
	
	title = BP_roman_government_events.0002.t
	desc = BP_roman_government_events.0002.desc
	
	option = { name = BP_roman_government_events.0002.a }
}

##0011-0050: West Senate deliberates on recognizing a new ruler

BP_roman_government_events.0011 = { #Ask the Senate for Approval
	type = character_event
	title = BP_roman_government_events.0011.t
	desc = BP_roman_government_events.0011.desc
	theme = realm
	
	immediate = {
		root = { save_scope_as = the_liege_west }
		every_living_character = {
			limit = { has_character_modifier = roman_consul_west }
			save_scope_as = the_consul_west
		}
	}
	
	left_portrait = {
		character = ROOT
		animation = personality_rational
	}
	
	right_portrait = {
		character = scope:the_consul_west
		animation = personality_rational
	}
	
	option = { #Ask to get Senate Approval
		name = BP_roman_government_events.0011.seek_approval
		custom_tooltip = BP_roman_government_events.0011.seek_approval.tootip
		add_prestige = senate_approval_prestige_cost_west
		scope:the_consul_west = {
			add_opinion = {
				target = root
				modifier = sought_senate_approval
			}
			trigger_event = { id = BP_roman_government_events.0012 days = 3 }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				always_dismiss_senate_trigger = yes
			}
		}
	}
	
	option = { #Ignore the Senate
		name = BP_roman_government_events.0011.dismiss_the_senate
		custom_tooltip = BP_roman_government_events.0011.dismiss_the_senate.tooltip
		add_prestige = senate_refusal_prestige_gain_west
		scope:the_consul_west = {
			add_opinion = {
				target = root
				modifier = did_not_seek_senate_approval
			}
		}
		
		add_character_modifier = ignored_the_senate
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				always_dismiss_senate_trigger = no
			}
		}
	}
	
	option = { #Wait, let me think...
		name = BP_roman_government_events.0011.wait
		custom_tooltip = BP_roman_government_events.0011.wait.tooltip
		remove_variable = already_asked_the_senate
	}
}

BP_roman_government_events.0012 = { #The Senate deliberates
	type = character_event
	title = BP_roman_government_events.0012.t
	desc = BP_roman_government_events.0012.desc
	theme = realm
	
	option = { #Approve of the emperor
		name = BP_roman_government_events.0012.approve
		scope:the_liege_west = { trigger_event = { id = BP_roman_government_events.0013 days = 3 } }
	}
	
	option = { #Disapprove of the emperor
		name = BP_roman_government_events.0012.disapprove
		trigger = { is_ai = no } ##### TODO (Beta): Make the Senate actually negotiate for the crown
		scope:the_liege_west = { trigger_event = { id = BP_roman_government_events.0014 days = 3 } }
	}
}

BP_roman_government_events.0013 = { #The Senate Approves!
	type = letter_event
	opening = { desc = BP_roman_government_events.0013.opening }
	desc = BP_roman_government_events.0013.desc
	
	sender = scope:the_consul_west
	
	immediate = {}
	
	option = { #Disapprove of the emperor
		name = BP_roman_government_events.0013.a
		scope:the_liege_west = {
			add_character_modifier = approved_by_the_senate
			add_opinion = {
				target = scope:the_consul_west
				modifier = pacified_opinion
			}
		}
	}
}

BP_roman_government_events.0014 = { #The Senate Rejects!
	type = letter_event
	opening = { desc =  BP_roman_government_events.0014.opening }
	desc = BP_roman_government_events.0014.desc
	sender = scope:the_consul_west
	
	immediate = {}
	
	option = { #Boo!
		name = BP_roman_government_events.0014.a
		scope:the_liege_west = {
			add_character_modifier = rejected_by_the_senate
			add_opinion = {
				target = scope:the_consul_west
				modifier = insulted_opinion
			}
		}
	}
}

##0051-0060: Becoming a Senator & related (various letter events)
BP_roman_government_events.0051 = { #You're 25 and now a (Western) Senator!
	type = letter_event
	opening = { desc = BP_roman_government_events.0051.opening }
	desc = BP_roman_government_events.0051.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.0051.a
		add_trait = senator_west
	}
}
BP_roman_government_events.0052 = { #The consul or Rome holder made you a Senator
	type = letter_event
	opening = { desc = BP_roman_government_events.0052.opening }
	desc = BP_roman_government_events.0052.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.0052.a
		made_a_senator_effect = {
			ACTOR = scope:actor
			REGION = west
		}
	}
}
BP_roman_government_events.0053 = { #The consul or Rome holder elevated your dynasty
	type = letter_event
	opening = { desc = BP_roman_government_events.0053.opening }
	desc = BP_roman_government_events.0053.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.0053.a
		elevated_a_dynasty_effect = {
			ACTOR = scope:the_sender
			RECIPIENT = root
			REGION = west
			THE_CITY = b_roma
		}
	}
}

#1001-1999: Eastern Senate Stuff

##1001-1010: Disestablishment of the Senate Effects

BP_roman_government_events.1001 = { #Informational Event on Disestablishing the Senate
	type = character_event
	theme = realm
	
	immediate = {
		every_living_character = {
			limit = { has_character_modifier = roman_consul_east }
			save_scope_as = the_consul
		}
	}
	
	left_portrait = { character = ROOT }
	right_portrait = { character = scope:the_consul }
	
	title = BP_roman_government_events.1001.t
	
	desc = BP_roman_government_events.1001.desc
	
	option = {
		name = BP_roman_government_events.1001.do_it
		disestablished_senate_effect = {
			REGION = east
			MAIN_EMPIRE = e_byzantium
			OPPOSITE_EMPIRE = e_wre
		}
		root = { save_scope_as = the_destroyer }
		every_player = { trigger_event = { id = BP_roman_government_events.1002 } }
	}
	option = { name = BP_roman_government_events.1001.dont_do_it }
}

BP_roman_government_events.1002 = {
	type = character_event
	theme = realm
	
	immediate = {}
	
	right_portrait = { character = scope:the_destroyer }
	
	title = BP_roman_government_events.0002.t
	desc = BP_roman_government_events.0002.desc
	
	option = { name = BP_roman_government_events.0002.a }
}

##1011-1050: East Senate deliberates on recognizing a new ruler

BP_roman_government_events.1011 = { #Ask the Senate for Approval
	type = character_event
	title = BP_roman_government_events.1011.t
	desc = BP_roman_government_events.1011.desc
	theme = realm
	
	immediate = {
		root = { save_scope_as = the_liege_east }
		every_living_character = {
			limit = { has_character_modifier = roman_consul_east }
			save_scope_as = the_consul_east
		}
	}
	
	left_portrait = {
		character = ROOT
		animation = personality_rational
	}
	
	right_portrait = {
		character = scope:the_consul_east
		animation = personality_rational
	}
	
	option = { #Ask to get Senate Approval
		name = BP_roman_government_events.1011.seek_approval
		custom_tooltip = BP_roman_government_events.1011.seek_approval.tootip
		add_prestige = senate_approval_prestige_cost_east
		scope:the_consul_east = {
			add_opinion = {
				target = root
				modifier = sought_senate_approval
			}
			trigger_event = { id = BP_roman_government_events.1012 days = 3 }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				always_dismiss_senate_trigger = yes
			}
		}
	}
	
	option = { #Ignore the Senate
		name = BP_roman_government_events.1011.dismiss_the_senate
		custom_tooltip = BP_roman_government_events.1011.dismiss_the_senate.tooltip
		add_prestige = senate_refusal_prestige_gain_east
		scope:the_consul_east = {
			add_opinion = {
				target = root
				modifier = did_not_seek_senate_approval
			}
		}
		
		add_character_modifier = ignored_the_senate
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				always_dismiss_senate_trigger = no
			}
		}
	}
	
	option = { #Wait, let me think...
		name = BP_roman_government_events.1011.wait
		custom_tooltip = BP_roman_government_events.1011.wait.tooltip
		remove_variable = already_asked_the_senate
	}
}

BP_roman_government_events.1012 = { #The Senate deliberates
	type = character_event
	title = BP_roman_government_events.1012.t
	desc = BP_roman_government_events.1012.desc
	theme = realm
	
	option = { #Approve of the emperor
		name = BP_roman_government_events.0012.approve
		scope:the_liege_east = { trigger_event = { id = BP_roman_government_events.1013 days = 3 } }
	}
	
	option = { #Disapprove of the emperor
		name = BP_roman_government_events.0012.disapprove
		trigger = { is_ai = no } ##### TODO (Beta): Make the Senate actually negotiate for the crown
		scope:the_liege_east = { trigger_event = { id = BP_roman_government_events.1014 days = 3 } }
	}
}

BP_roman_government_events.1013 = { #The Senate Approves!
	type = letter_event
	opening = { desc = BP_roman_government_events.0013.opening }
	desc = BP_roman_government_events.1013.desc
	
	sender = scope:the_consul_east
	
	immediate = {}
	
	option = { #Disapprove of the emperor
		name = BP_roman_government_events.1013.a
		scope:the_liege_east = {
			add_character_modifier = approved_by_the_senate
			add_opinion = {
				target = scope:the_consul_east
				modifier = pacified_opinion
			}
		}
	}
}

BP_roman_government_events.1014 = { #The Senate Rejects!
	type = letter_event
	opening = { desc =  BP_roman_government_events.1014.opening }
	desc = BP_roman_government_events.1014.desc
	sender = scope:the_consul_east
	
	immediate = {}
	
	option = { #Boo!
		name = BP_roman_government_events.1014.a
		scope:the_liege_east = {
			add_character_modifier = rejected_by_the_senate
			add_opinion = {
				target = scope:the_consul_east
				modifier = insulted_opinion
			}
		}
	}
}

##1051-1060: You become a Senator (various letter events)
BP_roman_government_events.1051 = { #You're 25 and now a(n Eastern) Senator!
	type = letter_event
	opening = { desc = BP_roman_government_events.1051.opening }
	desc = BP_roman_government_events.1051.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.1051.a
		add_trait = senator_east
	}
}
BP_roman_government_events.1052 = { #The consul or Constantinople holder made you a Senator
	type = letter_event
	opening = { desc = BP_roman_government_events.1052.opening }
	desc = BP_roman_government_events.1052.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.1052.a
		made_a_senator_effect = {
			ACTOR = scope:actor
			REGION = east
		}
	}
}
BP_roman_government_events.1053 = { #The consul or Constantinople holder elevated your dynasty
	type = letter_event
	opening = { desc = BP_roman_government_events.1053.opening }
	desc = BP_roman_government_events.1053.desc
	
	sender = scope:the_sender
	
	immediate = {}
	
	option = {
		name = BP_roman_government_events.1053.a
		elevated_a_dynasty_effect = {
			ACTOR = scope:the_sender
			RECIPIENT = root
			REGION = east
			THE_CITY = b_constantinople
		}
	}
}

#2001+: General Senate Stuff

## 2001-2010: Loss of Senatorial Support

BP_roman_government_events.2001 = { #You are now a vassal, so the senate no longer supports you
	type = character_event
	theme = realm
	
	immediate = {}
	
	right_portrait = { character = root }
	
	title = BP_roman_government_events.2001.t
	desc = BP_roman_government_events.2001.desc
	
	option = {
		name = BP_roman_government_events.2001.a
		remove_character_modifier = approved_by_the_senate
	}
}

BP_roman_government_events.2002 = { #You no longer rule Rome or Constantinople
	type = character_event
	theme = realm
	
	immediate = {}
	
	right_portrait = { character = root }
	
	title = BP_roman_government_events.2002.t
	desc = BP_roman_government_events.2002.desc
	
	option = {
		name = BP_roman_government_events.2002.a
		remove_character_modifier = approved_by_the_senate
	}
}
