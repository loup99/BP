#Sources:
#[1] M. Mueller, HYPSISTOS CULTS IN THE GREEK WORLD DURING THE ROMAN IMPERIUM. Hamilton, Ontario: McMaster University, 2014.
#[2] Abu Muhammad 'Abd Allah Ruzbih ibn Daduya wrote a number of anti-monotheist, pro-dualist tracts early in Muslim rules (ca 760s); weren't stamped out until the 790s
#[3] https://en.wikipedia.org/wiki/Aquitanian_language#/media/File:Euskararen_aztarna_geografikoak.svg
#[4] https://penelope.uchicago.edu/Thayer/E/Roman/Texts/secondary/BURLAT/12*.html
#[5] H. Niliacus, The Hieroglyphics of Horapollo. Princeton, NJ: Princeton University Press, 2020. (Translated George Boas). Chapter 1

on_game_start = {
	on_actions = {
		BP_set_minorities_universal
		BP_set_minorities_by_date
	}
}

#AKA, Minorities that are true for all bookmarks
BP_set_minorities_universal = {
	effect = {
		###### From Rajas of Asia vvvv
		
		### Konchinim Malabarism
		every_county = {
			limit = {
				OR = {
					this = title:c_kerala
					this = title:c_venadu
					this = title:c_alupa
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:malabarism
				CULTURE = culture:kochinim
			}
		}
		#Indian Nestorians
		every_county = {
			limit = {
				OR = {
					this = title:c_kanara
					this = title:c_panaji
				}
			}
			add_small_faith_to_county_effect = { FAITH = faith:nestorian }
		}
		# Manicheans in Hexi Corridor
		every_county = {
			limit = {
				OR = {
					this = title:c_shazhou
					this = title:c_liangzhou
				}
			}
			add_small_faith_to_county_effect = { FAITH = faith:manichean }
		}
		# Rabiinism in Hexi Corridor
		every_county = {
			limit = {
				OR = {
					this = title:c_shazhou
					this = title:c_liangzhou
				}
			}
			add_small_faith_to_county_effect = { FAITH = faith:rabbinism }
		}
		# Parsees
		title:c_daman = {
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:mazdayasna
				CULTURE = culture:persian
			}
		}
		
		###### From WtWSMS vvvv
		
		## Christianity
		### Nicene
		every_county = { #The Pentarchy
			limit = {
				OR = {
					this = title:c_alexandria
					this = title:c_roma
					this = title:c_antiocheia
					this = title:c_jerusalem
					this = title:c_byzantion
				}
			}
			add_large_faith_to_county_effect = { FAITH = faith:nicene }
		}
		## Jews
		### Juhuro Tzadikites (Mountain Jews)
		every_county = {
			limit = {
				OR = {
					this = title:c_sarir
					this = title:c_derbent
					this = title:c_shaki
					this = title:c_shirvan
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				CULTURE = culture:juhuro
				FAITH = faith:tzadikite
			}
		}
		### Rabbinism
		every_county = {
			limit = {
				OR = {
					#Georgian Jews
					this = title:c_kakheti
					this = title:c_tbilisi
					this = title:c_kartli
					#Armenian Jews
					this = title:c_ayrarat
					#Greece
					this = title:c_byzantion
					this = title:c_euboea #Chalkis; oldes presence in Europe (possibly)
					this = title:c_attica
					this = title:c_thessalonika
					#Asia Minor
					this = title:c_pacatiana #Jewish presence since Seleucid time, likely contributed to Hypsisterians
					this = title:c_aeolis
					this = title:c_ionia
					this = title:c_cilicia #Tarsus
					#Oriens & Egypt (sans Hebrew territories)
					this.duchy = title:d_cyprus #Long term Jewish presence in Cyprus, although significantly reduced after the AD 116 revolt and poorly attested AD II-IV century [1]
					this = title:c_antiocheia
					this = title:c_alexandria
					#Western Roman Empire
					this = title:c_roma
					this = title:c_reggio_calabria #Mentioned in an edit by Honorius in 398
					this = title:c_apulia #Jewish Catacombs in Venusia (Encylopedia Britannica)
					this = title:c_benevento #Vth Century (Jewish Virtual Library)
					#North Africa
					this = title:c_tunis #Carthage
					#Asoristan & it's Talmudic Academies
					this = title:c_baghdad #Mahuz Academies
					this = title:c_kufa #Sura Academy
					this = title:c_anbar #Pumbedita & Pum-Nahara & Firuz Shapur Academies
					this = title:c_karbala #Nehardea Academy
					#Not *necessarily* large populations of Jews, but it's where we've parked the Exilarch
					this = title:c_hulwan
					this = title:c_kirkuk
					#Persia
					this = title:c_isfahan
					#Central Asia
					this = title:c_guzgan #Yahudan seems to be a reference to Jews
				}
			}
			add_small_faith_to_county_effect = { FAITH = faith:rabbinism }
		}
		# Dharmics
		## Buddhists
		### Dharmagutakans
		title:c_merv = { add_large_faith_to_county_effect = { FAITH = faith:dharmaguptaka } } #Major Buddhist center Pre-Islam
		# Caucasian Avars
		every_county = {
			limit = {
				OR = {
					this = title:c_sarir
					this = title:c_samander
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:georgian_pagan
				CULTURE = culture:awaral
			}
		}
		#Nakh
		every_county = {
			limit = {
				OR = {
					this = title:c_cabardinia
					this = title:c_sarir
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:georgian_pagan
				CULTURE = culture:nakh
			}
		}
		#Adyghes (Circassians)
		every_county = {
			limit = {
				OR = {
					this = title:c_cabardinia
					this = title:c_abkhazia
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:georgian_pagan
				CULTURE = culture:adyghes
			}
		}
		#Abaza
		every_county = {
			limit = { this = title:c_zichia }
			add_small_culture_and_faith_to_county_effect = {
				FAITH = faith:georgian_pagan
				CULTURE = culture:abaza
			}
		}
		#Latins
		## Coriscans
		every_county = {
			limit = {
				OR = {
					this = title:c_gallura
					this = title:c_logudoro
				}
			}
			add_large_culture_to_county_effect = { CULTURE = culture:corsican }
		}
		# Mazdans
		## Zoroastrians
		###Arewordiks
		every_county = {
			limit = {
				OR = {
					#These are the long term holdouts separated from Armenia proper
					this = title:c_amida
					this = title:c_samosata
					this = title:c_tall_basma
				}
			}
			add_small_culture_and_faith_to_county_effect = {
				CULTURE = culture:armenian
				FAITH = faith:urartuism
			}
		}
		### Bodoland
		every_county = {
			limit = {
				OR = {
					this = title:c_kamatapur
					this = title:c_kamarupanagara
					this = title:c_haruppeswara
					this = title:c_goalpara
				}
			}
			add_large_culture_and_faith_to_county_effect = {
				FAITH = faith:bathouism
				CULTURE = culture:kachari
			}
		}
		
		# Other Specific Counties
		#========================
		title:c_harran = {
			#Faiths
			add_small_faith_to_county_effect = { FAITH = faith:assyrian_pagan }
			#Cultures
			add_small_culture_to_county_effect = { CULTURE = culture:greek }
		}
		title:c_baghdad = { add_small_culture_to_county_effect = { CULTURE = culture:assyrian } }
		#Long Attested Non-Berber language presence by al-Bakri
		title:c_syrte = { add_small_culture_to_county_effect = { CULTURE = culture:punic } }
		#Svan-Abkhaz border
		title:c_odishi = { add_small_culture_to_county_effect = { CULTURE = culture:svan } }
		#And India's religious diversity
		add_dharmic_faith_minorities_to_region = { REGION = world_india }
	}
}

BP_set_minorities_by_date = {
	effect = {
		if = {
			limit = { current_date < 500.1.1 }
			trigger_event = { on_action = BP_start_date_minorities_476_effect }
		}
	}
}

BP_start_date_minorities_476_effect = {
	effect = {
		# By Empire
		
		# Abyssinia: None
		# Ajuraan: None
		# Arabia: None
		
		#Armenia
		every_county = {
			limit = { this.empire = title:e_armenia }
			if = { #Conversion of the Georgians and Laz is still somewhat thin the ground in the Vth century
				limit = {
					OR = {
						this.culture = culture:georgian
						this.culture = culture:lazic
					}
				}
				add_minority_faith_granular_minimum_effect = { FAITH = faith:georgian_pagan }
			}
			if = { #Very early conversion of Aghwan
				limit = { this.culture = culture:caucasian_albanian }
				add_minority_faith_granular_effect = { FAITH = faith:albanian_apostolic }
			}
			if = { #Persarmenia still has Zoroastrians for a while
				limit = { this.culture = culture:armenian }
				add_minority_faith_granular_minimum_effect = { FAITH = faith:urartuism }
			}
		}
		#Christian presence at leaast as early as the Council of Chalcedon
		title:c_abkhazia = { add_small_faith_to_county_effect = { FAITH = faith:georgian_orthodox } }
		
		# Bengal: None
		
		#Britannia
		every_county = {
			limit = { this.empire = title:e_britannia }
			#Blend the lines between Briton and Romano-Briton
			if = {
				limit = { NOT = { this.culture = culture:briton } }
				add_minority_culture_granular_effect = { CULTURE = culture:briton }
			}
			if = {
				limit = { NOT = { this.culture = culture:romano_british } }
				add_minority_culture_granular_effect = { CULTURE = culture:romano_british }
			}
			#Blur the boundaries between Celtic Pagans and Christians
			if = {
				limit = { NOT = { this.faith = faith:celtic_pagan } }
				add_minority_faith_granular_effect = { FAITH = faith:celtic_pagan }
			}
			if = { #Christianity, naturally, has the edge
				limit = { NOT = { this.faith = faith:insular_celtic } }
				add_minority_faith_granular_minimum_effect = { FAITH = faith:insular_celtic }
			}
			#Pelagianism has a minor presence
			if = {
				limit = {
					OR = {
						this = title:c_ulster
						this = title:c_oriel
						this = title:c_breifne
					}
				}
				add_faith_minority_effect = {
					FAITH = faith:pelagianism
					SIZE = small
					COUNTY = this
				}
			}
			#Germanic rulers should have foot-holds their regions
			if = {
				limit = {
					this.holder.culture = culture:anglo
					NOT = { this.culture = culture:anglo }
				}
				add_culture_minority_effect = {
					CULTURE = culture:anglo
					SIZE = small
					COUNTY = this
				}
				add_faith_minority_effect = {
					FAITH = faith:germanic_pagan
					SIZE = small
					COUNTY = this
				}
			}
			if = {
				limit = {
					this.holder.culture = culture:old_saxon
					NOT = { this.culture = culture:old_saxon }
				}
				add_culture_minority_effect = {
					CULTURE = culture:old_saxon
					SIZE = small
					COUNTY = this
				}
				add_faith_minority_effect = {
					FAITH = faith:germanic_pagan
					SIZE = small
					COUNTY = this
				}
			}
			if = {
				limit = {
					this.holder.culture = culture:jute
					NOT = { this.culture = culture:jute }
				}
				add_culture_minority_effect = {
					CULTURE = culture:jute
					SIZE = small
					COUNTY = this
				}
				add_faith_minority_effect = {
					FAITH = faith:germanic_pagan
					SIZE = small
					COUNTY = this
				}
			}
		}
		#And the Bucinobantes
		title:c_middlesex = {
			add_culture_minority_effect = {
				CULTURE = culture:alamannian
				SIZE = small
				COUNTY = this
			}
		}
		
		#Byzantium
		every_county = {
			limit = { this.empire = title:e_byzantium }
			#North of the Empire (Asia Minor and Europe)
			if = {
				limit = {
					OR = {
						this.kingdom = title:k_byzantium
						this.kingdom = title:k_cilicia
						this.kingdom = title:k_galatia
						this.kingdom = title:k_pontus
						this.kingdom = title:k_asia
						this.kingdom = title:k_thrace
						this.kingdom = title:k_achaia
						this.kingdom = title:k_macedonia
						this.kingdom = title:k_moesia_superior
						this.kingdom = title:k_cilicia
						this.kingdom = title:k_armenia_inferior
					}
				}
				## Faiths: Spread faiths out a bit
				add_minority_faith_granular_effect = { FAITH = faith:melchisdechianism }
				add_minority_faith_granular_effect = { FAITH = faith:hellenic_pagan }
				add_minority_faith_granular_effect = { FAITH = faith:pneumatomachianism }
				add_minority_faith_granular_effect = { FAITH = faith:montanism }
				add_minority_faith_granular_effect = { FAITH = faith:bosporan_faith }
				add_minority_faith_granular_minimum_effect = { FAITH = faith:nicene }
				#Cultures
				if = {
					limit = {
						OR = {
							this = title:c_phrygia
							this = title:c_hadrianeia
						}
					}
					add_minority_culture_granular_effect = { CULTURE = culture:phrygian }
				}
				if = { #Armenian faiths
					limit = { this.culture = culture:armenian }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:armenian_apostolic }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:urartuism }
				}
				if = { #Marcionism
					limit = { this.religion = religion:christianity_religion }
					add_minority_faith_granular_effect = { FAITH = faith:marcionism }
				}
				#Let the Tsakonians have *some* presence...
				add_minority_culture_granular_effect = { CULTURE = culture:tsakonian }
			}
			#Oriens; the nightmare....
			if = {
				limit = {
					OR = {
						this.kingdom = title:k_oriens
						this.kingdom = title:k_cilicia
					}
				}
				
				if = { #The Syrian Orthodox vs. the Maronites
					limit = {
						OR = {
							this.culture = culture:aramean
							this.culture = culture:helleno_aramean
						}
						NOT = { this.duchy = title:d_cyprus }
					}
					add_minority_faith_granular_minimum_effect = { FAITH = faith:maronite_church }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:syrian_orthodox }
				}
				if = { #Audianism
					limit = {
						OR = {
							this.duchy = title:d_libanensis #Damascus: Site of Jubb'adin "Well of Audius"
							this.duchy = title:d_syria
							this.duchy = title:d_syria_salutaris
							this.duchy = title:d_osrhoene
							this = title:c_aintab
							this = title:c_alexandretta
							this = title:c_tall_hamid
						}
						this.religion = religion:christianity_religion
						NOT = { this = title:c_damascus }
					}
					add_minority_faith_granular_minimum_effect = { FAITH = faith:audianism }
				}
				if = {
					limit = {
						OR = {
							this = title:c_beirut
							this = title:c_antiocheia
							this = title:c_alexandretta
						}
					}
					add_minority_faith_granular_minimum_effect = { FAITH = faith:valentinianism }
				}
				#Hebrew territory
				if = {
					limit = { this.culture = culture:hebrew }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:ebionite }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:rabbinism }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:samaritan }
				}
				#A few Monophysites...
				add_minority_faith_granular_effect = { FAITH = faith:monophysitism }
			}
			#Egypt
			if = {
				limit = { this.kingdom = title:k_egypt }
				add_minority_faith_granular_minimum_effect = { FAITH = faith:miaphysitism } #miaphysitism everywhere
				if = { #Nicene Christianity among the Helleno-Libyans
					limit = { this.culture = culture:helleno_libyan }
					add_minority_faith_granular_minimum_effect = { FAITH = faith:nicene }
				}
				if = { #Extant Egyptian paganism; in decline
					limit = {
						this.duchy = title:d_thebais #Upper Egypt
						this.duchy = title:d_nobatia #Lower Nubia
						#[5] Horapollo in the late 5th century was one of the last major figures of
						#Egyptian paganism
						this = title:c_alexandria
						this = title:c_al-buhaira
						this = title:c_al-gharbiya
						this = title:c_damietta
					}
					add_minority_faith_granular_minimum_effect = { FAITH = faith:miaphysitism }
				}
				if = { #Mandulism
					limit = {
						this = title:c_aswan
						this = title:c_qus
					}
					add_minority_faith_granular_effect = { FAITH = faith:kushitism_pagan }
				}
			}
		}
		#And a few special cases
		title:c_byzantion = { add_small_culture_to_county_effect = { CULTURE = culture:roman } }
		title:c_ghazza = { add_small_faith_to_county_effect = { FAITH = faith:mazdayasna } }
		title:c_baalbek = { add_small_faith_to_county_effect = { FAITH = faith:hellenic_pagan } } #Major pagan temple until ca. 490s or so...
		
		#Capsian-Pontic Steppe
		every_county = {
			limit = { this.empire = title:e_caspian-pontic_steppe }
			
			#Mixed Hypsisterian/Christian presence
			if = {
				limit = { faith = faith:bosporan_faith }
				add_small_faith_to_county_effect = { FAITH = faith:nicene }
			}
			if = {
				limit = { faith = faith:nicene }
				add_small_faith_to_county_effect = { FAITH = faith:bosporan_faith }
			}
		}
		
		#Dacia
		#Deccan
		#Finland
		
		#Gaul
		every_county = {
			limit = { this.empire = title:e_gaul }
			
			if = { #Orthodox Christians everywhere in the south, as well as Romano-Gauls
				limit = { this.kingdom = title:k_septem_provincae }
				add_minority_faith_granular_minimum_effect = { FAITH = faith:gallican_church }
				add_minority_culture_granular_minimum_effect = { CULTURE = culture:romano_gallic }
			}
			if = { #Elsewhere, its more granular (Culture)
				limit = {
					OR = {
						this.kingdom = title:k_lugdunensis
						this.kingdom = title:k_belgica
						this.kingdom = title:k_germania_inferior
					}
					NOT = { this.culture = culture:romano_frank }
				}
				add_minority_culture_granular_effect = { CULTURE = culture:romano_gallic }
			}
			if = { #Elsewhere, its more granular (Faith)
				limit = {
					OR = {
						this.kingdom = title:k_lugdunensis
						this.kingdom = title:k_belgica
						this.kingdom = title:k_germania_inferior
					}
					NOT = { this.faith = faith:nicene }
				}
				add_minority_faith_granular_effect = { FAITH = faith:gallican_church }
			}
			if = { #Brittany should have a smattering of Christianity
				limit = { this.kingdom = title:k_brittany }
				add_small_faith_to_county_effect = { FAITH = faith:gallican_church }
			}
			#Franks should have some presence in their provinces
			if = {
				limit = { this.holder.culture = culture:old_frankish }
				add_culture_minority_effect = {
					CULTURE = culture:old_frankish
					SIZE = small
					COUNTY = this
				}
				add_faith_minority_effect = {
					FAITH = faith:germanic_pagan
					SIZE = small
					COUNTY = this
				}
			}
		}
		title:c_provence = { add_small_culture_to_county_effect = { CULTURE = culture:massalian } }
		title:c_cologne = { add_small_culture_to_county_effect = { CULTURE = culture:romano_frank } }
		
		#Germania Magna
		#Guinea
		
		#Italy
		
		
		
		
		
		
		
		
		
		
		#Mandulism
		#this = title:c_qurta
		#this = title:c_kalabsha
	}
}
