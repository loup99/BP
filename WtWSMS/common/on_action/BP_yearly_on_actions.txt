yearly_global_pulse = {
	on_actions = {
		liguistic_shift
		heritage_shift
	}
}

liguistic_shift = {
	effect = {
		every_culture_global = {
			limit = {
				is_a_living_culture_trigger = yes
				OR = {
					has_cultural_pillar = language_latin
					#Proto-Romance Block
					has_cultural_pillar = language_proto_ibero_romance
					has_cultural_pillar = language_proto_gallo_romance
					has_cultural_pillar = language_proto_british_romance
					has_cultural_pillar = language_proto_italian_romance
					has_cultural_pillar = language_proto_raetonorican_romance
					has_cultural_pillar = language_proto_illyrian_romance
					has_cultural_pillar = language_proto_pannonian_romance
					has_cultural_pillar = language_proto_eastern_romance
					has_cultural_pillar = language_proto_syrian_romance
					has_cultural_pillar = language_proto_african_romance
					#TODO (Beta): Later Romance language divergence
					
					#Indo-Aryan Languages
					has_cultural_pillar = language_magadhan
					has_cultural_pillar = language_kamarupan
					has_cultural_pillar = language_sauraseni
					has_cultural_pillar = langauge_apabhramsa
					has_cultural_pillar = language_vrachada
					has_cultural_pillar = language_maharashtri
					has_cultural_pillar = language_elu
					#Iranian Languages
					has_cultural_pillar = language_parthian
				}
			}
			save_scope_as = shift_culture
			
			#Latin
			if = {
				limit = { has_cultural_pillar = language_latin }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 500
					SHIFT_PERIOD_YEARS = 25
				}
			}
			#Proto-Romance Language Splits
			else_if = {
				limit = { has_cultural_pillar = language_proto_ibero_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_gallo_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_british_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_italian_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_raetonorican_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_illyrian_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_pannonian_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_eastern_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_syrian_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_proto_african_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			#Later Romance Splits
			else_if = { #Occitano to Catalan/Arpitan/Occitan
				limit = { has_cultural_pillar = language_doc_romance }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 900
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = { #D'Oil to Arpitan (Special Case)
				limit = {
					has_cultural_pillar = language_french
					scope:shift_culture = {
						any_culture_county = {
							percent >= 0.50
							title_province = { geographical_region = custom_arpitan }
						}
					}
				}
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 900
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = { #Iberian Vulgar to children
				limit = { has_cultural_pillar = language_iberian }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 900
					SHIFT_PERIOD_YEARS = 25
				}
			}
			#Indo-Aryan
			else_if = {
				limit = { has_cultural_pillar = language_magadhan }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_kamarupan }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_sauraseni }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = langauge_apabhramsa }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_vrachada }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_maharashtri }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 700
					SHIFT_PERIOD_YEARS = 25
				}
			}
			else_if = {
				limit = { has_cultural_pillar = language_elu }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 500
					SHIFT_PERIOD_YEARS = 25
				}
			}
			#Iranian
			else_if = {
				limit = { has_cultural_pillar = language_parthian }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0001
					HERITAGE_OR_LANGUAGE = language
					SHIFT_START_YEAR = 500
					SHIFT_PERIOD_YEARS = 25
				}
			}
		}
	}
}

heritage_shift = {
	effect = {
		every_culture_global = {
			limit = {
				is_a_living_culture_trigger = yes
				OR = {
					has_cultural_pillar = heritage_latin
				}
			}
			save_scope_as = shift_culture
			
			if = {
				limit = { has_cultural_pillar = heritage_latin }
				generic_shift_culture_event = {
					EVENT_ID = bp_heritage_linguistic_drift.0101
					HERITAGE_OR_LANGUAGE = heritage
					SHIFT_START_YEAR = 500
					SHIFT_PERIOD_YEARS = 25
				}
			}
		}
	}
}

yearly_playable_pulse = {
	on_actions = {
		delay = { days = { 90 180 } }
		subroman_government_1year_events
	}
}

subroman_government_1year_events = {
	events = {
		BP_subroman_events.0020 #Warfare causing a crisis
	}
}

five_year_playable_pulse = {
	on_actions = {
		delay = { days = { 180 360 } }
		subroman_government_5year_events
	}
}

subroman_government_5year_events = {
	#Only one of these should fire at a time, so use a random event
	random_events = {
		100 = BP_subroman_events.0010 #Decay of Sub-Roman Taxation System
		100 = BP_subroman_events.0011 #Vassal requests decline of Sub-Roman Taxation System (Chain)
		100 = BP_subroman_events.0030 #Landed Armies
		100 = BP_subroman_events.0040 #Changing Values (Military)
		100 = BP_subroman_events.0050 #Changing Values (Clergy)
		100 = BP_subroman_events.0060 #Convert to Feudalism
	}
}