prefeudal_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		dynasty_named_realms = no
		legitimacy = yes
		use_as_base_on_landed = yes #Avoiding a bunch of jank code with this
	}

	royal_court = any

	primary_holding = castle_holding
	required_county_holdings = { castle_holding city_holding church_holding }
	valid_holdings = { castle_holding tribal_holding }

	vassal_contract_group = prefeudal_vassal

	ai = {
		use_legends = yes
	}

	flags = {
		may_elevate_co_monarch
		# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
		government_is_feudal
		government_is_settled
		government_uses_prefeudal_authority
		can_hold_castles_and_tribes #Just informative
		cannot_advance_beyond_late_antiquity_era #Just informative
		
		prefeudal_character_modifiers
	}
	
	mechanic_type = feudal
	
	color = hsv{ 0.67 0.50 0.78 } #Feudal Color, 50% Saturation
}

#Indian Government Types
rajamandala_government = {
	government_rules = {
		create_cadet_branches = no
		rulers_should_have_dynasty = yes
		dynasty_named_realms = yes
		legitimacy = yes
		use_as_base_on_landed = yes #Avoiding a bunch of jank code with this
	}
	
	royal_court = any

	primary_holding = castle_holding
	required_county_holdings = { castle_holding city_holding church_holding }

	vassal_contract_group = rajamandal_vassal

	character_modifier = {
		development_growth_factor = 0.25
		monthly_county_control_growth_add = 0.1
	}

	ai = {
		use_legends = yes
	}

	flags = {
		may_elevate_co_monarch
		government_is_centralized
		government_is_settled
		# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
		government_uses_rajamandala_authority
		government_uses_indian_civil_service
		vassals_must_give_titles_to_dynasty_members
		
		rajamandala_government_character_modifier
	}
	
	mechanic_type = feudal
	
	color = {0.250 0.250 0.250}
}

#Iranian Government Types
iranian_dynastic_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		dynasty_named_realms = yes
		legitimacy = yes
		use_as_base_on_landed = yes #Avoiding a bunch of jank code with this
	}

	royal_court = any

	primary_holding = castle_holding
	required_county_holdings = { castle_holding city_holding church_holding }
	valid_holdings = { castle_holding city_holding }

	tax_slot_type = clan_tax_slot

	vassal_contract_group = iranian_dynastic_vassal

	ai = {
		use_legends = yes
	}

	character_modifier = {
		#Gives iranian_dynastic_government characters an extra 2-5 domain, depending on their secular
		#authority
		domain_limit = 2
		#From WtWSMS-CK2
		men_at_arms_maintenance = -0.5
		tax_slot_add = 1
	}

	# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
	flags = {
		government_titles_do_not_leave_realm #Flavor
		can_hold_castles_and_cities
		government_is_centralized
		government_is_settled
		government_uses_iranian_dynastic_authority
		only_wuzurgan_can_be_councillors
		righteous_counties_to_rightous_characters
		titles_revert_to_top_liege_on_death
		may_appoint_viziers #aka the Framadar
		empires_use_mahestan_succession
		
		iranian_dynastic_government_character_modifier
	}
	
	mechanic_type = clan
	
	color = {1.000 0.500 0.000}
}

#Roman-centric governments
roman_dynastic_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		legitimacy = yes
		use_as_base_on_landed = yes #Avoiding a bunch of jank code with this
	}

	royal_court = any

	primary_holding = castle_holding
	required_county_holdings = { castle_holding city_holding church_holding }
	valid_holdings = { castle_holding city_holding }

	vassal_contract_group = roman_dynastic_vassal

	ai = {
		use_legends = yes
	}

	character_modifier = {
		levy_size = -0.50
		domain_limit = 4
		domain_tax_mult = 0.2
		men_at_arms_cap = 5 #i.e., double total number of maa in innovations
	}

	flags = {
		may_elevate_co_monarch
		government_is_centralized
		government_is_settled
		# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
		can_hold_castles_and_cities
		titles_revert_to_top_liege_on_death
		title_revocation_could_be_tyranny_free
		government_uses_roman_dynastic_authority
		government_only_valid_for_kingdoms_empires
		empires_use_imperial_elective_succession
		is_a_roman_government
		
		roman_dynastic_goverment_character_modifier
	}
	
	mechanic_type = feudal
	
	color = hsv{ 0.902 0.980 0.400 } #Tyrian Purple
}

#Degenerate Roman Institutions
subroman_dynastic_government = {
	government_rules = {
		create_cadet_branches = yes
		rulers_should_have_dynasty = yes
		legitimacy = yes
		use_as_base_on_landed = yes #Avoiding a bunch of jank code with this
	}

	royal_court = any

	primary_holding = castle_holding
	required_county_holdings = { castle_holding city_holding church_holding }
	valid_holdings = { castle_holding city_holding }

	vassal_contract_group = subroman_dynastic_vassal

	ai = {
		use_legends = yes
	}

	character_modifier = {}

	flags = {
		may_elevate_co_monarch
		government_is_centralized
		government_is_settled
		# Use flags instead of has_government for moddability if possible (i.e., wherever not visible to the player).
		can_hold_castles_and_cities
		government_uses_roman_dynastic_authority
		is_a_roman_government
		empires_use_imperial_elective_succession
		is_a_transitory_roman_government
	}
	
	mechanic_type = feudal
	
	color = hsv{0.000 1.000 0.630 } #Roman culture color
}
