##### Changed from Vanilla: Added WtWSMS Governments
GetGovernmentIcon = {
	type = character

	##### Changed from Vanilla vvvvv
	text = { #High Tribal
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = high_tribal_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = high_tribal_government
				}
				trigger_else = { liege ?= { has_government = high_tribal_government } }
			}
		}
		localization_key = high_tribal_icon_concept
	}
	text = { #Pre Feudal
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = prefeudal_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = prefeudal_government
				}
				trigger_else = { liege ?= { has_government = prefeudal_government } }
			}
		}
		localization_key = prefeudal_icon_concept
	}
	text = { #Rajamandala
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = rajamandala_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = rajamandala_government
				}
				trigger_else = { liege ?= { has_government = rajamandala_government } }
			}
		}
		localization_key = rajamandala_icon_concept
	}
	text = { #Iranian Dynastic
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = iranian_dynastic_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = iranian_dynastic_government
				}
				trigger_else = { liege ?= { has_government = iranian_dynastic_government } }
			}
		}
		localization_key = iranian_dynastic_government_icon_concept
	}
	text = { #Roman Dynastic
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = roman_dynastic_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = roman_dynastic_government
				}
				trigger_else = { liege ?= { has_government = roman_dynastic_government } }
			}
		}
		localization_key = roman_dynastic_government_icon_concept
	}
	text = { #Sub-Roman Dynastic
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = subroman_dynastic_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = subroman_dynastic_government
				}
				trigger_else = { liege ?= { has_government = subroman_dynastic_government } }
			}
		}
		localization_key = subroman_dynastic_government_icon_concept
	}
	##### Changed from Vanilla ^^^^^
	text = { # Holy Order
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = holy_order_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					primary_title ?= { is_holy_order = yes }
				}
				trigger_else = {
					liege.primary_title ?= { is_holy_order = yes }
				}
			}
		}
		localization_key = holy_order_icon_concept
	}
	text = { # Mercenary
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = mercenary_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					primary_title = { is_mercenary_company = yes }
				}
				trigger_else = {
					liege.primary_title ?= { is_mercenary_company = yes }
				}
			}
		}
		localization_key = mercenary_icon_concept
	}
	text = { # Adventurer
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = landless_adventurer_government
			}
			trigger_else = {
				trigger_if = {
					limit = {
						is_ruler = yes
					}
					government_has_flag = government_is_landless_adventurer
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_landless_adventurer }
				}
			}
		}
		localization_key = adventurer_icon_concept
	}
	text = { # Nomad
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = nomad_government
			}
			trigger_else = {
				trigger_if = {
					limit = {
						is_ruler = yes
					}
					government_has_flag = government_is_nomadic
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_nomadic }
				}
			}
		}
		localization_key = nomadic_icon_concept
	}
	text = { # Herder
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = herder_government
			}
			trigger_else = {
				trigger_if = {
					limit = {
						is_ruler = yes
					}
					has_government = herder_government
				}
				trigger_else = {
					liege ?= { has_government = herder_government }
				}
			}
		}
		localization_key = herder_icon_concept
	}
	text = { # Celestial
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = celestial_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_celestial
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_celestial }
				}
			}
		}
		localization_key = celestial_icon_concept
	}
	text = { # Mandala
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = mandala_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_mandala
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_mandala }
				}
			}
		}
		localization_key = mandala_icon_concept
	}
	text = { # Maritime Tribal
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = wanua_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_wanua
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_wanua }
				}
			}
		}
		localization_key = wanua_icon_concept
	}
	text = { # Meritocratic
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = meritocratic_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_meritocratic
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_meritocratic }
				}
			}
		}
		localization_key = meritocratic_icon_concept
	}
	text = { # Tribal
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = tribal_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_tribal
					NOT = { government_has_flag = government_is_wanua }
				}
				trigger_else = {
					liege ?= { 
						government_has_flag = government_is_tribal 
						NOT = { government_has_flag = government_is_wanua }
					}
				}
			}
		}
		localization_key = tribal_icon_concept
	}
	text = { # Clan
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = clan_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_clan
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_clan }
				}
			}
		}
		localization_key = clan_icon_concept
	}
	text = { # Japanese Admin
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = japan_administrative_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = japan_administrative_government
				}
				trigger_else = {
					liege ?= { has_government = japan_administrative_government }
				}
			}
		}
		localization_key = japan_administrative_icon_concept
	}
	text = { # Admin
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = administrative_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_administrative
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_administrative }
				}
			}
		}
		localization_key = administrative_icon_concept
	}
	text = { # Republic
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = republic_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_republic
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_republic }
				}
			}
		}
		localization_key = republic_icon_concept
	}
	text = { # Theocracy
		trigger = {
			trigger_if = {
				limit = {
					is_alive = no
				}
				has_government = theocracy_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					government_has_flag = government_is_theocracy
				}
				trigger_else = {
					liege ?= { government_has_flag = government_is_theocracy }
				}
			}
		}
		localization_key = theocracy_icon_concept
	}
	text = { # Japanese Feudal
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = japan_feudal_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = japan_feudal_government
				}
				trigger_else = {
					liege ?= { has_government = japan_feudal_government }
				}
			}
		}
		localization_key = japan_feudal_icon_concept
	}
	text = { # Steppe Admin
		trigger = {
			trigger_if = {
				limit = { is_alive = no }
				has_government = steppe_admin_government
			}
			trigger_else = {
				trigger_if = {
					limit = { is_ruler = yes }
					has_government = steppe_admin_government
				}
				trigger_else = {
					liege ?= { has_government = steppe_admin_government }
				}
			}
		}
		localization_key = steppe_admin_icon_concept
	}
	text = { # Feudal
		trigger = { always = no }
		localization_key = feudal_icon_concept
		fallback = yes
	}
}