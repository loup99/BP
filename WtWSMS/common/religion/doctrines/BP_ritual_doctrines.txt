doctrine_ritual_conversion = {
	group = "ritual"
	
	doctrine_ritual_conversion_required = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_encouraged }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_neutral }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_discouraged }
				value = flavor_doctrine_cost_massive
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_required }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			custom_description = {
				text = incompatible_tenet_ethnic_religion_trigger
				NOT = { flag:tenet_ethnic_religion = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_interpretatio_romana_trigger
				NOT = { flag:tenet_interpretatio_romana = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_communal_identity_trigger
				NOT = { flag:tenet_communal_identity = { is_in_list = selected_doctrines } }
			}
			#
			custom_tooltip = {
				text = rites_cannot_require_conversion
				NOT = { flag:tenet_rite = { is_in_list = selected_doctrines } }
				religion_tag = christianity_religion
			}
		}
		parameters = {
			external_conversion_enabled = yes
			external_conversion_anywhere = yes
			demand_conversion_interaction = yes
			does_passive_evangelization = yes
		}
	}
	
	doctrine_ritual_conversion_encouraged = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_required }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_neutral }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_discouraged }
				value = flavor_doctrine_cost_massive
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_encouraged }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			custom_description = {
				text = incompatible_tenet_ethnic_religion_trigger
				NOT = { flag:tenet_ethnic_religion = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_interpretatio_romana_trigger
				NOT = { flag:tenet_interpretatio_romana = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_communal_identity_trigger
				NOT = { flag:tenet_communal_identity = { is_in_list = selected_doctrines } }
			}
		}
		parameters = {
			external_conversion_enabled = yes
			external_conversion_anywhere = no
			demand_conversion_interaction = yes
			does_passive_evangelization = yes
		}
	}
	
	doctrine_ritual_conversion_neutral = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_required }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_encouraged }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_discouraged }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_neutral }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			universalist_religion_trigger = no
		}
		parameters = { demand_conversion_interaction = yes }
	}
	
	doctrine_ritual_conversion_discouraged = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_required }
				value = flavor_doctrine_cost_massive
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_encouraged }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_conversion_neutral }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_conversion_discouraged }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			universalist_religion_trigger = no
		}
		parameters = {
			demand_conversion_interaction = no
			passive_evangalization_protection = yes
		}
		character_modifier = {
			opinion_of_same_faith = 5
			levy_reinforcement_rate_same_faith = 0.05
			domain_tax_same_faith_mult = 0.05
		}
	}
}

doctrine_ritual_pilgrimages = {
	group = "ritual"
	
	#TODO (Beta): Check how Islam interacts with pilgrimages; the Hajj is separate from pilgrimages it seems
	doctrine_ritual_pilgrimages_approves = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_pilgrimages_disapproves }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_pilgrimages_approves }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {}
		parameters = { allows_pilgrimage = yes }
		character_modifier = {}
		traits = {}
	}
	
	#TODO (Beta): Make sure doctrine_ritual_pilgrimages_disapproves applies to qarmatians as well
	doctrine_ritual_pilgrimages_disapproves = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_pilgrimages_approves }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_pilgrimages_disapproves }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {}
		#Instead of having to pay for it, get a passive benefit
		parameters = {}
		character_modifier = {
			monthly_piety_gain_mult = 0.05
			#Faiths that historically shunned going on pilgrimages, said they were a waste of time & money.
			domain_tax_same_faith_mult = 0.03
		}
		traits = {}
	}
}

doctrine_ritual_vegetarianism = {
	group = "ritual"
	
	#Covers the strictest cases like Jains, Priscillianism
	doctrine_ritual_vegetarianism_required = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_clerics }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_partial }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_no_statement }
				value = flavor_doctrine_cost_massive
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_required }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			custom_description = {
				text = incompatible_tenet_human_sacrifice_trigger
				NOT = { flag:tenet_human_sacrifice = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_gruesome_festivals_trigger
				NOT = { flag:tenet_gruesome_festivals = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_exaltation_of_pain_trigger
				NOT = { flag:tenet_exaltation_of_pain = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_ritual_cannibalism_trigger
				NOT = { flag:tenet_ritual_cannibalism = { is_in_list = selected_doctrines } }
			}
		}
		parameters = {
			enables_vegetarianism = yes
			clerics_are_vegetarians = yes
			cannot_hunt = yes
		}
		traits = { virtues = { vegetarian = 1 } }
	}
	
	#Covers midway cases like some Buddhist sects, where it's only monks and nuns that abstain
	doctrine_ritual_vegetarianism_clerics = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_required }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_partial }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_no_statement }
				value = flavor_doctrine_cost_high
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_clerics }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			custom_description = {
				text = incompatible_tenet_human_sacrifice_trigger
				NOT = { flag:tenet_human_sacrifice = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_gruesome_festivals_trigger
				NOT = { flag:tenet_gruesome_festivals = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_exaltation_of_pain_trigger
				NOT = { flag:tenet_exaltation_of_pain = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_tenet_ritual_cannibalism_trigger
				NOT = { flag:tenet_ritual_cannibalism = { is_in_list = selected_doctrines } }
			}
		}
		parameters = {
			enables_vegetarianism = yes
			clerics_are_vegetarians = yes
		}
		traits = { virtues = { vegetarian = 0.5 } }
	}
	
	#Covers Coptic Christianity, or other faiths that suggest it part of the time
	doctrine_ritual_vegetarianism_partial = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_required }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_clerics }
				value = flavor_doctrine_cost_mid
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_no_statement }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_partial }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {}
		parameters = { enables_vegetarianism = yes }
		traits = { virtues = { vegetarian = 0.2 } }
	}
	
	doctrine_ritual_vegetarianism_no_statement = {
		piety_cost = {
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_required }
				value = flavor_doctrine_cost_massive
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_clerics }
				value = flavor_doctrine_cost_high
			}
			else_if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_partial }
				value = flavor_doctrine_cost_mid
			}
			
			if = {
				limit = { has_doctrine = doctrine_ritual_vegetarianism_no_statement }
				multiply = flavor_doctrine_unchanged_cost_mult
			}
		}
		can_pick = {
			NOT = { religion_tag = jainism_religion } #Too much emphasis on ahimsa to allow it for them
		}
		parameters = {}
		traits = {}
	}
}
