
county_has_minority_faith_trigger = {
	OR = {
		AND = {
			has_variable_list = faith_minorities_small
			variable_list_size = {
				name = faith_minorities_small
				value > 0
			}
		}
		AND = {
			has_variable_list = faith_minorities_large
			variable_list_size = {
				name = faith_minorities_large
				value > 0
			}
		}
	}
}

county_has_minority_culture_trigger = {
	OR = {
		AND = {
			has_variable_list = culture_minorities_small
			variable_list_size = {
				name = culture_minorities_small
				value > 0
			}
		}
		AND = {
			has_variable_list = culture_minorities_large
			variable_list_size = {
				name = culture_minorities_large
				value > 0
			}
		}
	}
}

county_is_religiously_protected_trigger = {
	exists = holder.liege
	holder = {
		OR = {
			AND = {
				liege = root
				is_ruler = yes
				is_independent_ruler = no
				vassal_contract_has_flag = religiously_protected
			}
			any_liege_or_above = {
				exists = liege
				liege = root
				is_ruler = yes
				is_independent_ruler = no
				vassal_contract_has_flag = religiously_protected
			}
		}
	}
}

# $FAITH$
county_has_astray_or_worse_minority_faith_trigger = {
	county_has_minority_faith_trigger = yes
	OR = {
		any_in_list = {
			variable = faith_minorities_small
			$FAITH$ = {
				faith_hostility_level = {
					target = prev
					value >= faith_astray_level
				}
			}
		}
		any_in_list = {
			variable = faith_minorities_large
			$FAITH$ = {
				faith_hostility_level = {
					target = prev
					value >= faith_astray_level
				}
			}
		}
	}
}

# $CULTURE$
county_has_different_heritage_minority_culture_trigger = {
	county_has_minority_culture_trigger = yes
	OR = {
		any_in_list = {
			variable = culture_minorities_small
			$CULTURE$ = {
				NOT = { has_same_culture_heritage = prev }
			}
		}
		any_in_list = {
			variable = culture_minorities_large
			$CULTURE$ = {
				NOT = { has_same_culture_heritage = prev }
			}
		}
	}
}

# $FAITH$
county_has_specific_minority_faith_trigger = {
	OR = {
		AND = {
			has_variable_list = faith_minorities_small
			is_target_in_variable_list = {
				name = faith_minorities_small
				target = $FAITH$
			}
		}
		AND = {
			has_variable_list = faith_minorities_large
			is_target_in_variable_list = {
				name = faith_minorities_large
				target = $FAITH$
			}
		}
	}
}

# $CULTURE$
county_has_specific_minority_culture_trigger = {
	OR = {
		AND = {
			has_variable_list = culture_minorities_small
			is_target_in_variable_list = {
				name = culture_minorities_small
				target = $CULTURE$
			}
		}
		AND = {
			has_variable_list = culture_minorities_large
			is_target_in_variable_list = {
				name = culture_minorities_large
				target = $CULTURE$
			}
		}
	}
}

##### Changed from Vanilla vvvvv

### These are meant to overwritten liberally when integrated into other mods
is_valid_immigration_target_county = { #county scope
	culture = { NOT = { has_cultural_tradition = tradition_isolationist } }
	faith = { NOT = { has_doctrine = tenet_ethnic_religion } }
}
is_valid_evangelizing_source_faith_trigger = { #faith scope
	NOT = { has_doctrine_parameter = unreformed }
	NOT = { has_doctrine = tenet_ethnic_religion }
	OR = {
		this.religion = religion:christianity_religion
		this.religion = religion:islam_religion
		this.religion = religion:buddhism_religion
		this.religion = religion:dualism_religion
	}
}
never_evangelizes_trigger = { #faith scope
	NOR = {
		this.religion = religion:christianity_religion
		this.religion = religion:islam_religion
		this.religion = religion:buddhism_religion
		this.religion = religion:dualism_religion
	}
}
is_frequently_evangelizeing_faith_trigger = { #faith scope
	OR = {
		has_doctrine = tenet_mendicant_preachers
		has_doctrine = tenet_autocephaly
	}
}
is_valid_evangelizing_target_faith_trigger = { #faith scope
	has_doctrine_parameter = unreformed
}
infrequent_evangelization_trigger = { #faith scope
	has_doctrine = tenet_communal_identity
}
valid_neighbor_immigration_state_trigger = {
	NOT = { culture = { has_cultural_tradition = tradition_isolationist } }
	NOT = { faith = { has_doctrine = tenet_ethnic_religion } }
}
### These are NOT meant to be overwritten when integrated into other mods; impacts some core functionality
county_has_a_minority_with_type_and_size_trigger = { 
	AND = {
		has_variable_list = $CULTURE_OR_FAITH$_minorities_$SIZE$
		NOT = {
			is_target_in_variable_list = {
				name = $CULTURE_OR_FAITH$_minorities_$SIZE$
				target = $THE_COUNTY$.$CULTURE_OR_FAITH$
			}
		}
	}
}
##### Changed from Vanilla ^^^^^