#Taken and tweaked from Successions Expanded
imperial_elective_emperor_vote_weight = {
	modifier = { #Imperial Dignity
		desc = tooltip_imperial_vote_strength_emperor
		add = 250
		scope:holder = root
	}
	modifier = { #...Yet it can be reduced in certain circumstances.
		add = -50
		desc = tooltip_imperial_vote_strength_emperor_unpurpled
		scope:holder = root
		NOT = { has_trait = born_in_the_purple }
	}
	modifier = { #The Basileios must have an untarnished body.
		add = -50
		desc = tooltip_imperial_vote_strength_emperor_deformed
		scope:holder = root
		scope:title = title:e_byzantium
		is_adult = yes
		OR = {
			has_trait = disfigured
			has_trait = blind
			has_trait = eunuch
			has_trait = dwarf
			has_trait = maimed
			has_trait = wounded_3
			has_trait = clubfooted
			has_trait = lisping
			has_trait = inbred
			has_trait = hunchbacked
			has_trait = giant
			has_trait = scaly
			has_trait = albino
			has_trait = bleeder
			has_trait = gout_ridden
		}
	}
	modifier = { #Children are not leaders.
		add = -100
		desc = tooltip_imperial_vote_strength_emperor_child
		scope:holder = root
		NOT = { is_adult = yes }
	}
	modifier = { #Being a good orator.
		add = 10
		desc = tooltip_imperial_vote_strength_emperor_diplomacy
		scope:holder = root
		is_adult = yes
		diplomacy >= 10
		add = {
			value = 10
			if = {
				limit = { diplomacy >= 15 }
				add = 5
			}
			if = {
				limit = { diplomacy >= 20 }
				add = 5
			}
			if = {
				limit = { diplomacy >= 25 }
				add = 5
			}
		}
	}
}
imperial_elective_secular_vassal_vote_weight = {
	modifier = { #Prestigious people hold more sway.
		desc = tooltip_imperial_vote_strength_elector_prestige
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		prestige_level >= medium_prestige_level
		add = {
			value = 5
			if = {
				limit = { prestige_level >= high_prestige_level }
				add = 5
			}
			if = {
				limit = { prestige_level >= very_high_prestige_level }
				add = 5
			}
			if = {
				limit = { prestige_level >= max_prestige_level }
				add = 5
			}
		}
	}
	modifier = { #Powerful people can pull strings.
		add = 5
		desc = tooltip_imperial_vote_strength_elector_tier
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		highest_held_title_tier > tier_county
		add = {
			value = 5
			if = {
				limit = { highest_held_title_tier > tier_duchy }
				add = 10
			}
		}
	}
	#Commanders
	modifier = { #Martial increases a commander's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_commander_martial
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		martial >= 8
		OR = {
			is_knight_of = scope:holder
			has_council_position = councillor_marshal
		}
		NOT = { vassal_contract_has_flag = foederatus_installed }
		add = {
			value = 10
			if = {
				limit = { martial >= 10 }
				add = 5
			}
			if = {
				limit = { martial > 12 }
				add = 5
			}
			if = {
				limit = { martial > 14 }
				add = 5
			}
			if = {
				limit = { martial > 16 }
				add = 5
			}
			if = {
				limit = { martial > 18 }
				add = 5
			}
			if = {
				limit = { martial > 20 }
				add = 5
			}
			if = {
				limit = { martial > 25 }
				add = 5
			}
			if = {
				limit = { martial > 30 }
				add = 5
			}
			if = {
				limit = { has_council_position = councillor_marshal }
				multiply = 2
			}
		}
	}
	modifier = { #Diplomacy increases the Chancellor's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_chancellor_diplomacy
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		diplomacy >= 8
		has_council_position = councillor_chancellor
		add = {
			value = 10
			if = {
				limit = { diplomacy >= 10 }
				add = 5
			}
			if = {
				limit = { diplomacy > 12 }
				add = 5
			}
			if = {
				limit = { diplomacy > 14 }
				add = 5
			}
			if = {
				limit = { diplomacy > 16 }
				add = 5
			}
			if = {
				limit = { diplomacy > 18 }
				add = 5
			}
			if = {
				limit = { diplomacy > 20 }
				add = 5
			}
			if = {
				limit = { diplomacy > 25 }
				add = 5
			}
			if = {
				limit = { diplomacy > 30 }
				add = 5
			}
		}
	}
	modifier = { #Stewardship increases the Steward's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_steward_stewardship
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		stewardship >= 8
		has_council_position = councillor_steward
		add = {
			value = 10
			if = {
				limit = { stewardship >= 10 }
				add = 5
			}
			if = {
				limit = { stewardship > 12 }
				add = 5
			}
			if = {
				limit = { stewardship > 14 }
				add = 5
			}
			if = {
				limit = { stewardship > 16 }
				add = 5
			}
			if = {
				limit = { stewardship > 18 }
				add = 5
			}
			if = {
				limit = { stewardship > 20 }
				add = 5
			}
			if = {
				limit = { stewardship > 25 }
				add = 5
			}
			if = {
				limit = { stewardship > 30 }
				add = 5
			}
		}
	}
	modifier = { #Intrigue increases the Spymaster's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_spymaster_intrigue
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		intrigue >= 8
		has_council_position = councillor_spymaster
		add = {
			value = 10
			if = {
				limit = { intrigue >= 10 }
				add = 5
			}
			if = {
				limit = { intrigue > 12 }
				add = 5
			}
			if = {
				limit = { intrigue > 14 }
				add = 5
			}
			if = {
				limit = { intrigue > 16 }
				add = 5
			}
			if = {
				limit = { intrigue > 18 }
				add = 5
			}
			if = {
				limit = { intrigue > 20 }
				add = 5
			}
			if = {
				limit = { intrigue > 25 }
				add = 5
			}
			if = {
				limit = { intrigue > 30 }
				add = 5
			}
		}
	}
	modifier = { #Learning increases the Chaplain's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_chaplain_learning
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		NOT = { vassal_contract_has_flag = foederatus_installed }
		learning >= 8
		has_council_position = councillor_court_chaplain
		add = {
			value = 10
			if = {
				limit = { learning >= 10 }
				add = 5
			}
			if = {
				limit = { learning > 12 }
				add = 5
			}
			if = {
				limit = { learning > 14 }
				add = 5
			}
			if = {
				limit = { learning > 16 }
				add = 5
			}
			if = {
				limit = { learning > 18 }
				add = 5
			}
			if = {
				limit = { learning > 20 }
				add = 5
			}
			if = {
				limit = { learning > 25 }
				add = 5
			}
			if = {
				limit = { learning > 30 }
				add = 5
			}
		}
	}
}
imperial_elective_gubernatorial_vassal_additional_vote_weight = {
	#The court greatly values intrigue, stewardship, and oration
	modifier = {
		desc = tooltip_imperial_vote_strength_gubernatorial_intrigue
		is_vassal_of = scope:holder
		has_government = gubernatorial_government
		NOT = { scope:holder = root }
		intrigue >= 8
		add = {
			value = 10
			if = {
				limit = { intrigue >= 10 }
				add = 5
			}
			if = {
				limit = { intrigue > 12 }
				add = 5
			}
			if = {
				limit = { intrigue > 14 }
				add = 5
			}
			if = {
				limit = { intrigue > 16 }
				add = 5
			}
			if = {
				limit = { intrigue > 18 }
				add = 5
			}
			if = {
				limit = { intrigue > 20 }
				add = 5
			}
			if = {
				limit = { intrigue > 25 }
				add = 5
			}
			if = {
				limit = { intrigue > 30 }
				add = 5
			}
		}
	}
	modifier = {
		desc = tooltip_imperial_vote_strength_gubernatorial_diplomacy
		has_government = gubernatorial_government
		NOT = { scope:holder = root }
		diplomacy >= 8
		add = {
			value = 10
			if = {
				limit = { diplomacy >= 10 }
				add = 5
			}
			if = {
				limit = { diplomacy > 12 }
				add = 5
			}
			if = {
				limit = { diplomacy > 14 }
				add = 5
			}
			if = {
				limit = { diplomacy > 16 }
				add = 5
			}
			if = {
				limit = { diplomacy > 18 }
				add = 5
			}
			if = {
				limit = { diplomacy > 20 }
				add = 5
			}
			if = {
				limit = { diplomacy > 25 }
				add = 5
			}
			if = {
				limit = { diplomacy > 30 }
				add = 5
			}
		}
	}
	modifier = {
		desc = tooltip_imperial_vote_strength_gubernatorial_stewardship
		has_government = gubernatorial_government
		NOT = { scope:holder = root }
		stewardship >= 8
		add = {
			value = 10
			if = {
				limit = { stewardship >= 10 }
				add = 5
			}
			if = {
				limit = { stewardship > 12 }
				add = 5
			}
			if = {
				limit = { stewardship > 14 }
				add = 5
			}
			if = {
				limit = { stewardship > 16 }
				add = 5
			}
			if = {
				limit = { stewardship > 18 }
				add = 5
			}
			if = {
				limit = { stewardship > 20 }
				add = 5
			}
			if = {
				limit = { stewardship > 25 }
				add = 5
			}
			if = {
				limit = { stewardship > 30 }
				add = 5
			}
		}
	}
}
imperial_elective_theocratic_vassal_vote_weight = {
	modifier = { #Head of Faith holds a lot of sway
		add = 50
		desc = tooltip_imperial_vote_strength_chaplain_patriarch
		is_vassal_of = scope:holder
		scope:holder.faith = root.faith
		NOT = { scope:holder = root }
		faith = { exists = religious_head }
		scope:holder.faith.religious_head = root.faith.religious_head
	}
	modifier = { #Clerics (who are already in doctrinal agreement) hold a lot of sway
		add = 20
		desc = tooltip_imperial_vote_strength_theocrat
		NOT = { this = scope:holder }
		has_government = theocracy_government
	}
	modifier = { #Learning greatly increases the value of cleric's vote
		add = 10
		desc = tooltip_imperial_vote_strength_cleric_learning
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		has_government = theocracy_government
		learning >= 8
		add = {
			value = 10
			if = {
				limit = { learning >= 10 }
				add = 5
			}
			if = {
				limit = { learning > 12 }
				add = 5
			}
			if = {
				limit = { learning > 14 }
				add = 5
			}
			if = {
				limit = { learning > 16 }
				add = 5
			}
			if = {
				limit = { learning > 18 }
				add = 5
			}
			if = {
				limit = { learning > 20 }
				add = 5
			}
			if = {
				limit = { learning > 25 }
				add = 5
			}
			if = {
				limit = { learning > 30 }
				add = 5
			}
		}
	}
	modifier = { #As does piety
		add = 10
		desc = tooltip_imperial_vote_strength_cleric_piety_level
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		has_government = theocracy_government
		piety_level >= medium_piety_level
		add = {
			value = 10
			if = {
				limit = { piety_level >= high_piety_level }
				add = 10
			}
			if = {
				limit = { piety_level >= very_high_piety_level }
				add = 10
			}
			if = {
				limit = { piety_level >= max_piety_level }
				add = 10
			}
		}
	}
}
imperial_elective_foederatus_vote_weight = {
	#Commanders
	modifier = { #Martial increases a commander's influence.
		add = 10
		desc = tooltip_imperial_vote_strength_foederatus_martial
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		martial >= 8
		OR = {
			is_knight_of = scope:holder
			has_council_position = councillor_marshal
		}
		vassal_contract_has_flag = foederatus_installed
		add = {
			value = 10
			if = {
				limit = { martial >= 10 }
				add = 5
			}
			if = {
				limit = { martial > 12 }
				add = 5
			}
			if = {
				limit = { martial > 14 }
				add = 5
			}
			if = {
				limit = { martial > 16 }
				add = 5
			}
			if = {
				limit = { martial > 18 }
				add = 5
			}
			if = {
				limit = { martial > 20 }
				add = 5
			}
			if = {
				limit = { martial > 25 }
				add = 5
			}
			if = {
				limit = { martial > 30 }
				add = 5
			}
			if = {
				limit = { has_council_position = councillor_marshal }
				multiply = 2
			}
		}
	}
	modifier = { #But the sword gives them some sway
		add = 10
		desc = tooltip_imperial_vote_strength_foederatus_army_strength
		is_vassal_of = scope:holder
		NOT = { scope:holder = root }
		vassal_contract_has_flag = foederatus_installed
		number_of_maa_regiments >= 1
		add = {
			value = 5
			if = {
				limit = { number_of_maa_regiments > 1 }
				add = 5
			}
			if = {
				limit = { number_of_maa_regiments > 2 }
				add = 5
			}
			if = {
				limit = { number_of_maa_regiments > 3 }
				add = 5
			}
			if = {
				limit = { number_of_maa_regiments > 4 }
				add = 5
			}
		}
	}
}