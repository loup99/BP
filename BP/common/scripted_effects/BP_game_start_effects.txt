#Ensure all baronies have appropriate governments for game start; prevents clan/feudalism sneaking
#in through the back door
game_start_fix_barony_government = {
	every_barony = {
		#Which isn't a capital
		limit = { is_capital_barony = no }
		#All castle holders should have the government of the county holder
		if = {
			limit = { this.title_province = { has_holding_type = castle_holding } }
			#Vanilla Governments
			if = {
				limit = { this.county.holder = { has_government = tribal_government } }
				this.holder = { change_government = tribal_government }
			}
			else_if = { #NB: Causes singular "illegal_government" error in 476 start
				limit = { this.county.holder = { has_government = republic_government } }
				this.holder = { change_government = republic_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = theocracy_government } }
				this.holder = { change_government = theocracy_government }
			}
			#BP Governments
			else_if = {
				limit = { this.county.holder = { has_government = high_tribal_government } }
				this.holder = { change_government = high_tribal_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = prefeudal_government } }
				this.holder = { change_government = prefeudal_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = nomad_government } }
				this.holder = { change_government = nomad_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = subroman_government } }
				this.holder = { change_government = subroman_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = eranshar_government } }
				this.holder = { change_government = eranshar_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = gupta_government } }
				this.holder = { change_government = gupta_government }
			}
			else_if = {
				limit = {
					this.county.holder = {
						OR = {
							has_government = gubernatorial_government
							has_government = bureaucratic_government
						}
					}
				}
				this.holder = { change_government = gubernatorial_government }
			}
		}
		#Handle cases of lay clergy faiths holding temples as well
		else_if = {
			limit = {
				this.title_province = { has_holding_type = church_holding }
				this.holder.faith = { has_doctrine = doctrine_theocracy_lay_clergy }
			}
			#Vanilla Governments
			if = {
				limit = { this.county.holder = { has_government = tribal_government } }
				this.holder = { change_government = tribal_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = republic_government } }
				this.holder = { change_government = republic_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = theocracy_government } }
				this.holder = { change_government = theocracy_government }
			}
			#BP Governments
			else_if = {
				limit = { this.county.holder = { has_government = high_tribal_government } }
				this.holder = { change_government = high_tribal_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = prefeudal_government } }
				this.holder = { change_government = prefeudal_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = nomad_government } }
				this.holder = { change_government = nomad_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = subroman_government } }
				this.holder = { change_government = subroman_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = eranshar_government } }
				this.holder = { change_government = eranshar_government }
			}
			else_if = {
				limit = { this.county.holder = { has_government = gupta_government } }
				this.holder = { change_government = gupta_government }
			}
			else_if = { #NB: Causes singular "illegal_government" error in 476 start
				limit = {
					this.county.holder = {
						OR = {
							has_government = gubernatorial_government
							has_government = bureaucratic_government
						}
					}
				}
				this.holder = { change_government = gubernatorial_government }
			}
		}
	}
}

BP_character_events = {
	character:93 = { #Genseric of the Vandals
		if = {
			limit = {
				is_alive = yes
				is_landed = yes
			}
			save_scope_as = geneseric
			trigger_event = { id = bp_historical_flavor.0001 days = 1 } #Vandals have lots of Roman slaves at start
		}
	}
}

create_BP_artifacts = {
	#Tooth of the Buddha
	title:k_lanka.holder = {
		save_scope_as = the_holder
		create_artifact = {
			name = tooth_of_the_buddha
			description = tooth_of_the_buddha_desc
			history = { type = created_before_history }
			type = pedestal
			template = buddhism_artifact_template
			quality = 999
			decaying = no
			modifier = tooth_of_the_buddha_modifier
			visuals = bone
			save_scope_as = tooth_of_the_buddha_scope
		}
		scope:tooth_of_the_buddha_scope = {
			set_variable = { # required to track usability for template
				name = saint_bone_faith
				value = scope:the_holder.faith
			}
		}
	}
	title:e_byzantium.holder = {
		create_artifact = {
			name = nail_of_the_true_cross
			description = nail_of_the_true_cross_desc
			history = { type = created_before_history }
			type = pedestal
			template = christian_relic_template
			quality = 999
			decaying = no
			modifier = nail_of_the_true_cross_modifier
			visuals = reliquary
		}
	}
	title:e_persia.holder = {
		create_artifact = {
			name = branch_of_the_keshmar_cypress
			description = branch_of_the_keshmar_cypress_desc
			history = { type = created_before_history }
			type = pedestal
			template = zoroastrian_relic_template
			quality = 999
			decaying = no
			modifier = branch_of_the_keshmar_cypress_modifier
			visuals = flowers
		}
	}
}
