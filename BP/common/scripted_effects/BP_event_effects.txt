reform_caucasian_albania_effect = {
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
		add_claim_on_loss = no
	}
	title:k_caucasian_albania = {
		change_title_holder = {
			holder = root
			change = scope:change
		}
	}
	resolve_title_and_vassal_change = scope:change
}

form_frankish_kingdom_effect = {
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
		add_claim_on_loss = no
	}
	title:k_franks = {
		change_title_holder = {
			holder = root
			change = scope:change
		}
	}
	#Shift every duchy that's completely controlled
	every_realm_county = { this.duchy = { add_to_list = possible_duchies } }
	every_in_list = {
		list = possible_duchies
		limit = { root = { completely_controls = prev.duchy } }
		set_de_jure_liege_title = title:k_franks
	}
	resolve_title_and_vassal_change = scope:change
	
	add_pressed_claim = title:e_gaul
	if = {
		limit = { culture = { has_cultural_parameter = male_only_inheritance } }
		every_heir = {
			limit = { is_female = no }
			add_pressed_claim = title:e_gaul
		}
	}
	else_if = {
		limit = { culture = { has_cultural_parameter = female_only_inheritance } }
		every_heir = {
			limit = { is_male = no }
			add_pressed_claim = title:e_gaul
		}
	}
	else = {
		every_heir = { add_pressed_claim = title:e_gaul }
	}
}

form_gothic_empire_effect = {
	every_held_title = { #Should shift all dejure of all Empires owned at the time.
		limit = { tier = tier_empire }
		every_in_de_jure_hierarchy = {
			limit = { tier = tier_kingdom }
			set_de_jure_liege_title = title:e_goths
		}
	}
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
		add_claim_on_loss = no
	}
	title:e_goths = {
		change_title_holder = {
			holder = root
			change = scope:change
		}
	}
	#Shift every kingdom that's completely controlled
	every_realm_county = { this.kingdom = { add_to_list = possible_kingdoms } }
	every_in_list = {
		list = possible_kingdoms
		limit = { root = { completely_controls = prev.kingdom } }
		set_de_jure_liege_title = title:e_goths
	}
	resolve_title_and_vassal_change = scope:change
	#Should destroy all other Empires owned at the time.
	every_held_title = {
		limit = {
			tier = tier_empire
			NOT = { this = title:e_goths }
		}
		root = { destroy_title = prev }
	}
}

#cribbed from faith_creation.0012
create_arian_hof_effect = {
	faith = { religious_head_title = { save_scope_as = my_hof_title } }
	if = {
		limit = { any_theocratic_vassal = { faith = root.faith } }
		ordered_theocratic_vassal = {
			limit = { faith = root.faith }
			order_by = head_of_faith_selection_weight
			save_scope_as = new_religious_head
		}
	}
	else = {
		create_character = {
			location = root.capital_province
			age = { 30 50 }
			gender_female_chance = root_faith_clergy_gender_female_chance
			trait = education_learning_4
			faith = root.faith
			culture = root.culture
			learning = { 14 22 }
			save_scope_as = new_religious_head
		}
	}
	
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
		add_claim_on_loss = no
	}
	scope:my_hof_title = {
		change_title_holder = {
			holder = scope:new_religious_head
			change = scope:change
		}
	}
	resolve_title_and_vassal_change = scope:change
}
#These are only for event tooltips/effects; the actual work in done within the events
proclaim_creed_of_arius_effect = {
	if = {
		limit = {
			exists = faith.religious_head_title
			NOT = { exists = faith.religious_head }
		}
		custom_description = {
			text = create_arian_hof
			subject = root
		}
	}
	faith = {
		remove_doctrine = tenet_communion
		add_doctrine = tenet_apostolic_succession #Need to enable Autocephaly as per CK2
		add_doctrine = special_doctrine_adoptionism_ecumenism
	}
}
