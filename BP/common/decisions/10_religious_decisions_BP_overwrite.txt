##### Changed from Vanilla: Removed references to unused flags
revoke_false_conversion_decision = { #Reveal yourself as a crypto-religionist.
	ai_check_interval = 60
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = revoke_false_conversion_decision.desc
	selection_tooltip = revoke_false_conversion_decision.tt

	is_shown = {
		has_variable = false_convert
		NOR = {
			this = faith.religious_head
			var:false_convert = faith
		}
	}

	is_valid = {
		is_adult = yes
		NOT = { has_trait = zealous }
	}

##### Changed from Vanilla: some references to "cannot_be_atoned_krstjani_leader_flag"

	cost = {
		piety = major_piety_value
	}

	cooldown = { years = 20 }

	effect = {
		trigger_event = false_conversion.0020
		custom_tooltip = revoke_false_conversion_decision.desc.tt
		custom_tooltip = revoke_false_conversion_decision.desc.tt_own_faith_counties
	}

	ai_potential = {
		has_variable = false_convert
		save_temporary_scope_as = current_character
		liege.faith = {
			faith_hostility_level_comparison = { scope:current_character.var:false_convert <= root.faith }
		}
	}

	ai_will_do = {
		base = 25

		modifier = {	#Having a tolerant liege helps.
			add = 25
			liege.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		modifier = {	#If no one is fussed, and your old faith waxes while your current one wanes, then that seems like a good reason to jump ship.
			add = 35
			NOT = {
				liege.faith = { has_doctrine = doctrine_pluralism_fundamentalist }
			}
			var:false_convert = {
				fervor >= medium_fervor_value
			}
			faith = {
				fervor <= medium_fervor_value
			}
		}
	}
}

##### Changed from Vanilla: Removed inactive faiths
go_on_pilgrimage_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_personal_religious.dds"
	ai_check_interval = 60
	
	sort_order = 64

	desc = go_on_pilgrimage_decision_desc
	selection_tooltip = go_on_pilgrimage_decision_tooltip

	cooldown = { years = pilgrimage_cooldown_year_amount }

	is_shown = {
		is_landed = yes
		NOR = { # These Faiths historically shunned going on pilgrimages, saying they were a waste of time & money.
			##### Changed from Vanilla: Removed waldensian
			faith = faith:paulician
			##### Changed from Vanilla: Removed lollard
		}

		# Also we must have an actual holy site we can visit.
		faith = {
			any_holy_site = {
				exists = this
			}
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
		is_at_war = no
	}

	effect = {
		custom_tooltip = pilgrimage_effect_1
		custom_tooltip = pilgrimage_effect_2
		if = { #What is the minimum you will have to pay?
			limit = {
				faith = {
					any_holy_site = {
						squared_distance = {
							target = root.capital_province
							value <= short_pilgrimage_max_length
						}
					}
				}
			}
			custom_tooltip = pilgrimage_effect_3
		}
		else_if = {
			limit = {
				faith = {
					any_holy_site = {
						squared_distance = {
							target = root.capital_province
							value <= medium_pilgrimage_max_length
						}
					}
				}
			}
			custom_tooltip = pilgrimage_effect_4
		}
		else_if = {
			limit = {
				faith = {
					any_holy_site = {
						squared_distance = {
							target = root.capital_province
							value <= long_pilgrimage_max_length
						}
					}
				}
			}
			custom_tooltip = pilgrimage_effect_5
		}
		else = {
			custom_tooltip = pilgrimage_effect_6
		}
		if = {
			limit = { has_trait = ill }
			custom_tooltip = line_break
			custom_tooltip = pilgrimage_illness_warning
		}
		if = {
			limit = { is_ai = yes }
			trigger_event = pilgrimage.0999
		}
		else = {
			trigger_event = pilgrimage.0001
		}
	}

	ai_potential = {
		is_landed = yes
		is_available_adult = yes
		short_term_gold > pilgrimage_minimum_cost
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = -100
			NOT = { short_term_gold >= pilgrimage_medium_extra_cost }
		}
		modifier = {
			add = 30
			short_term_gold >= pilgrimage_long_extra_cost
		}
		modifier = {
			add = 20
			piety_level <= 2
		}
		modifier = {
			add = 20
			has_trait = zealous
		}
		modifier = {
			add = 20
			has_trait = zealous
			NOT = { has_trait = pilgrim }
		}
		modifier = {
			add = -30
			has_trait = cynical
		}
		modifier = {
			add = -30
			has_trait = pilgrim
		}
	}
}
