# Fired when a character's court grandeur level changes
# root = character observing the change
# scope:target_character = character changing language
on_court_language_changed = {
	on_actions = { bp_court_language_on_actions }
}

bp_court_language_on_actions = {
	effect = {
		scope:target_character = {
			if = {
				limit = { has_government = bureaucratic_government }
				every_vassal_or_below = {
					limit = {
						has_government = gubernatorial_government
						has_royal_court = yes
					}
					if = {
						limit = { NOT = { has_same_court_language = this.top_liege } }
						match_court_languages = {
							TOP_COURT = this.top_liege
							CURRENT_COURT = this
						}
					}
				}
			}
		}
	}
}
