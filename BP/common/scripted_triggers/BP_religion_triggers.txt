#faith scope
has_ecumenical_doctrine_trigger = { has_doctrine_parameter = is_special_doctrine_christian_ecumenism }

considers_astray_trigger = {
	faith_hostility_level = {
		target = $TARGET_FAITH$
		value <= 1
	}
}

#AKA hellenism sans mithraism, sol invictus
truly_hellenic_faith = {
	OR = {
		faith = faith:hellenic_pagan
		faith = faith:platonism
		faith = faith:orphism
		faith = faith:pythagoreanism
		faith = faith:stoicism
		faith = faith:cybelian
	}
}

# Uncommon Faiths : Steadily declined after Vth century
is_uncommon_faith = {
	OR = {
		#Christians
		this = faith:audianism
		this = faith:montanism
		this = faith:patripassianism
		#Dualist
		this = faith:valentinianism
	}
}

#Rare Faiths: Declined rapidly after 476 or fairly rare anyway
is_rare_faith = {
	OR = {
		#Christians
		this = faith:antinomianism
		this = faith:apollinarism
		this = faith:doceticism
		this = faith:melchisdechianism
		this = faith:monarchianism
		this = faith:pelagianism
		this = faith:pneumatomachianism
		#Dualists
		this = faith:sethianism
	}
}

#Exceptionally Rare Faiths ; Dead by 476 or were not well attested after, but **might** be revivable...
is_exceptionally_rare_faith = {
	OR = {
		#Christians
		this = faith:binitarianism
		this = faith:marcionism
		this = faith:messalian
		this = faith:total_depravity
		#Dualists
		this = faith:cainitism
		this = faith:marcosianism
		this = faith:sabianism
		this = faith:sethianism
	}
}

#Faiths with extremely localized spawning; given larger than normal location bonuses to compensate
is_localized_faith = {
	OR = {
		#Christians
		this = faith:ebionite
		#Jews
		this = faith:samaritan
		this = faith:tzadikite
		#Dualists
		this = faith:mandeaism
		#Mazdans
		this = faith:urartuism
	}
}

is_blocked_faith = {
	OR = {
		#Islam hasn't risen
		scope:new_faith.religion = religion:islam_religion
		scope:new_faith.religion = religion:yazidi_religion
		scope:new_faith = faith:khurramism
		#No Schism of the 3 Chapters
		scope:new_faith = faith:aquileianism
		#No Iconoclast Controversy
		scope:new_faith = faith:iconoclast
		#No Syrian Orthodoxy
		scope:new_faith = faith:syrian_orthodox
		#No Western Schism
		scope:new_faith = faith:catholic
		scope:new_faith = faith:orthodox
		#No Paulicianism
		scope:new_faith = faith:paulician
		#No Kabarism
		scope:new_faith = faith:kabarism
		#No Mazdakism
		scope:new_faith = faith:mazdakism
		#No Burmese
		scope:new_faith = faith:ari
		#No Buddhism in Tibet
		scope:new_faith = faith:lamaism
		scope:new_faith = faith:bon
		#No Norse Paganism
		scope:new_faith = faith:norse_pagan
	}
}

#Faiths whose rising is blocked mechanically
is_blocked_faith_gamerule = {
	#Faiths locked from creation/conversion
	#Make sure to tie to events/religion_events/heresy_events.txt: # Locked faiths
	#Islam
	custom_description = {
		text = islam_has_not_risen
		NOR = {
			scope:new_faith.religion = religion:islam_religion
			scope:new_faith.religion = religion:yazidi_religion
			scope:new_faith = faith:khurramism
		}
	}
	#Christianity
	custom_description = {
		text = schism_of_the_three_chapters_inactive
		NOT = { scope:new_faith = faith:aquileianism }
	}
	custom_description = {
		text = iconoclast_controversy_has_not_occured
		NOT = { scope:new_faith = faith:iconoclast }
	}
	custom_description = {
		text = syriac_orthodoxy_has_not_formed
		NOT = { scope:new_faith = faith:syrian_orthodox }
	}
	custom_description = {
		text = western_schism_has_not_yet_occured
		NOR = {
			scope:new_faith = faith:catholic
			scope:new_faith = faith:orthodox
		}
	}
	custom_description = {
		text = paulicianism_has_not_risen
		NOT = { scope:new_faith = faith:paulician }
	}
	#Judaism
	custom_description = {
		text = kabarism_not_yet_available
		NOT = { scope:new_faith = faith:kabarism }
	}
	#Mazdan
	custom_description = {
		text = mazdakism_has_not_yet_risen
		NOT = { scope:new_faith = faith:mazdakism }
	}
	#Eastern
	custom_description = {
		text = burmese_invasion_has_not_happened
		NOT = { scope:new_faith = faith:ari }
	}
	custom_description = {
		text = buddhism_has_not_reached_tibet
		NOR = {
			scope:new_faith = faith:lamaism
			scope:new_faith = faith:bon
		}
	}
	#Paganism
	custom_description = {
		text = norse_pagan_not_split
		NOT = { scope:new_faith = faith:norse_pagan }
	}
}

#For Rite/Autocephaly
kept_christian_doctrines_trigger = {
	##Christology
	custom_description = {
		text = incompatible_christian_doctrine_christology_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_christology_dyophysitism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_dyophysitism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_miaphysitism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_miaphysitism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_monothelitism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_monothelitism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_nestorianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_nestorianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_eutychianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_eutychianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_apollinarism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_apollinarism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_monophysitism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_monophysitism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_modalistic_monarchianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_modalistic_monarchianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_adoptionism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_adoptionism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_christology_doceticism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_christology_doceticism }
		}
	}
	##Ontology
	custom_description = {
		text = incompatible_christian_doctrine_ontology_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_trinitarianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_trinitarianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_binitarianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_binitarianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_modalistic_monarchianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_modalistic_monarchianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_dynamic_monarchianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_dynamic_monarchianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_unitarianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_unitarianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_hypostases_dualism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_hypostases_dualism }
		}
	}
	##Pneumatology
	custom_description = {
		text = incompatible_christian_doctrine_pneumatology_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_pneumatology_consubstantial = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_pneumatology_consubstantial }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_pneumatology_pneumatomachi = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_pneumatology_pneumatomachi }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_pneumatology_melchisedechian = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_pneumatology_melchisedechian }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_pneumatology_modalism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_pneumatology_modalism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_pneumatology_subservient = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_pneumatology_subservient }
		}
	}
	##Communion
	custom_description = {
		text = incompatible_christian_doctrine_communion_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_communion_transubstantiation = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_communion_transubstantiation }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_communion_consubstantiation = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_communion_consubstantiation }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_communion_memorialism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_communion_memorialism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_communion_repudiation = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_communion_repudiation }
		}
	}
	##Soteriology
	custom_description = {
		text = incompatible_christian_doctrine_soteriology_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_soteriology_original_sin = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_soteriology_original_sin }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_soteriology_pelagianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_soteriology_pelagianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_soteriology_total_depravity = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_soteriology_total_depravity }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_soteriology_antinomianism = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_soteriology_antinomianism }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_soteriology_cosmic = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_soteriology_cosmic }
		}
	}
	##Judaic Role
	custom_description = {
		text = incompatible_christian_doctrine_judaic_role_tenet_rite
		trigger_if = {
			limit = { flag:doctrine_christian_judaic_role_forebears = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_judaic_role_forebears }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_judaic_role_judaizers = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_judaic_role_judaizers }
		}
		trigger_if = {
			limit = { flag:doctrine_christian_judaic_role_demiurge = { is_in_list = selected_doctrines } }
			religious_head.faith = { has_doctrine = doctrine_christian_judaic_role_demiurge }
		}
	}
}

has_any_ecumenical_doctrine_trigger = {
	OR = {
		has_doctrine = special_doctrine_ecumenical_christian
		has_doctrine = special_doctrine_nicene_ecumenism
		has_doctrine = special_doctrine_alexandria_ecumenism
		has_doctrine = special_doctrine_nestorian_ecumenism
		has_doctrine = special_doctrine_zoroastrian_approved_cult
	}
}

#Checks that given target controls a sufficient number of all the counties meeting some criteria
#H/T @Tobbzn from CK3 Modding discord (based on his proposal)
#TODO: For better localization, probably want to compare lists though
check_if_control_percentage_of_all_counties_with_condition_trigger = {
	any_realm_county = {
		count >= { every_county = { limit = { $FEATURE$ = $CHARACTER$.$FEATURE$ } add = $PERCENTAGE$ } }
		$FEATURE$ = $CHARACTER$.$FEATURE$
		holder = {
			OR = {
				this = $CHARACTER$
				any_liege_or_above = { this = $CHARACTER$ }
			}
		}
	}
}
