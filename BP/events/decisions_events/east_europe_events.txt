namespace = east_europe

#decision_defenders_of_highgod, by Mathilda Bjarnehed
# 0015 - I am the Defender of Defensive Pagan Highgod (pick holy site)
# 0016 - I am the Defender of Defensive Pagan Highgod (actual event)
# 0017 - someone is the Defender of Defensive Pagan Highgod

#I am the Defender of Defensive Pagan Highgod (pick holy site)
east_europe.0015 = { #by Mathilda Bjarnehed
	type = character_event
	title = east_europe.0015.t
	desc = east_europe.0015.desc
	theme = faith
	left_portrait = {
		character = root
		animation = personality_zealous
	}

	immediate = {
		#Music cue in follow-up event.
		faith = {
			every_holy_site = {
				limit = {
					county.holder = root
					title_province = { has_special_building = no  }
					# barony = { }
				}
				add_to_list = holy_sites
			}
		}

		save_target_list_as_separate_scopes_effect = { TARGET_LIST = holy_sites }
	}

	option = {
		name = east_europe.0015.a
		custom_tooltip = east_europe.0015.tooltip
		scope:target_list_member_a = {
			save_scope_as = holy_site
		}
	}

	option = {
		name = east_europe.0015.b
		custom_tooltip = east_europe.0015.tooltip
		scope:target_list_member_b = {
			save_scope_as = holy_site
		}
	}

	option = {
		trigger = { exists = scope:target_list_member_c }
		name = east_europe.0015.c
		custom_tooltip = east_europe.0015.tooltip
		scope:target_list_member_c = {
			save_scope_as = holy_site
		}
	}

	option = {
		trigger = { exists = scope:target_list_member_d }
		name = east_europe.0015.d
		custom_tooltip = east_europe.0015.tooltip
		scope:target_list_member_d = {
			save_scope_as = holy_site
		}
	}

	after = {
		trigger_event = east_europe.0016
	}
}

#I am the Defender of Defensive Pagan Highgod (actual event)
east_europe.0016 = { #by Mathilda Bjarnehed
	type = character_event
	title = east_europe.0015.t
	desc = east_europe.0016.desc
	theme = faith
	left_portrait = {
		character = scope:defender_of_highgod
		animation = personality_zealous
	}

	immediate = {
		play_music_cue = "mx_cue_sacredrite"
		defenders_of_highgod_decision_effects = yes
	}
	
	option = {
		name = east_europe.0016.a
		
		give_nickname = nick_the_defender_of_highgod
	}

	after = {
		every_player = {
			limit = {
				NOT = { this = scope:defender_of_highgod }
				is_within_diplo_range = { CHARACTER = root }
			}
			trigger_event = east_europe.0017
		}
	}
}

#someone is the Defender of Defensive Pagan Highgod
east_europe.0017 = { #by Mathilda Bjarnehed
	type = character_event
	title = east_europe.0015.t
	desc = east_europe.0017.desc
	theme = faith
	left_portrait = {
		character = scope:defender_of_highgod
		animation = personality_zealous
	}
	
	immediate = {
		#If the character shares the hero's faith, _then_ cue the music.
		if = {
			limit = { faith = scope:defender_of_highgod.faith }
			play_music_cue = "mx_cue_sacredrite"
		}
	}

	option = {
		name = {
			trigger = { faith = scope:defender_of_highgod.faith }
			text = east_europe.0016.a
		}
		name = {
			trigger = { NOT = { faith = scope:defender_of_highgod.faith } }
			text = name_i_see
		}
	}
}

##################################################
# Founding the Kingdom of Bosnia
# by Ewan Cowhig Croft
# 0101-0102
##################################################

#	You founded the kingdom!
east_europe.0101 = {
	type = character_event
	title = east_europe.0101.t
	desc = east_europe.0101.desc
	theme = crown
	left_portrait = {
		character = scope:founder
		animation = personality_honorable
	}
	override_background = { event_background = wilderness_mountains }

	immediate = {
		play_music_cue = "mx_cue_postive_effect"
		found_kingdom_of_bosnia_decision_scripted_effect = yes
	}

	#I was motivated by nobility!
	option = {
		name = east_europe.0101.a

		#Your legacy will be remembered.
		add_prestige_experience = major_prestige_gain

		stress_impact = { arrogant = minor_stress_impact_loss }
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_honor = 0.5
				ai_boldness = 0.5
			}
		}
	}

	#I was motivated by faith!
	option = {
		name = east_europe.0101.b

		#Your piety will be remembered.
		add_piety_experience = major_piety_gain

		stress_impact = { zealous = minor_stress_impact_loss }
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = 0.5
				ai_boldness = 0.25
			}
		}
	}

	#I was motivated by a cynical lust for power!
	option = {
		name = east_europe.0101.c

		#Your wry smile walking away from your coronation will be remembered.
		add_stress = major_stress_loss

		stress_impact = { cynical = minor_stress_impact_loss }
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_greed = 0.5
				ai_rationality = 0.25
				ai_honor = -0.25
			}
		}
	}
}

#	Someone else founded the kingdom!
east_europe.0102 = {
	type = character_event
	title = east_europe.0102.t
	desc = east_europe.0102.desc
	theme = crown
	left_portrait = {
		character = scope:founder
		animation = personality_honorable
	}
	override_background = { event_background = wilderness_mountains }

	immediate = {
		play_music_cue = "mx_cue_postive_effect"
		found_kingdom_of_bosnia_decision_scripted_effect = yes
	}

	#Kings and Emperors consider them an upstart.
	option = {
		name = east_europe.0102.a
		trigger = { highest_held_title_tier >= tier_kingdom }

		#AI option is inconsequential.
		ai_chance = { base = 100 }
	}

	#Same-culture rulers are probably quite happy.
	##Deliberately same-culture rather than Bosnian, since it's mechanically possible to found the kingdom as a Croatian or Serbian just looking to get a ruler-title.
	option = {
		name = east_europe.0102.b
		trigger = { culture = scope:founder.culture }

		#AI option is inconsequential.
		ai_chance = { base = 100 }
	}

	#Everyone else is a bit wary.
	option = {
		name = east_europe.0102.c
		trigger = {
			NOR = {
				highest_held_title_tier >= tier_kingdom
				culture = scope:founder.culture
			}
		}

		#AI option is inconsequential.
		ai_chance = { base = 100 }
	}
}
